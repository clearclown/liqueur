<div align="center">

# Liquid Protocol

**Керуйте дашбордами за допомогою природної мови.**

Відкритий протокол для генерації UI за допомогою ШІ

[![npm](https://img.shields.io/npm/v/@liqueur/protocol?style=flat-square&color=blue)](https://www.npmjs.com/package/@liqueur/protocol)
[![License](https://img.shields.io/badge/license-MIT-blue?style=flat-square)](../../LICENSE)

[English](../../README.md) | [日本語](./README.ja.md) | [简体中文](./README.zh-CN.md) | [繁體中文](./README.zh-TW.md) | [Русский](./README.ru.md) | Українська | [فارسی](./README.fa.md) | [العربية](./README.ar.md)

</div>

---

## Суть

**«Виключи транспортні витрати і покажи щомісячні витрати у вигляді стовпчастої діаграми»**

Просто скажіть це, і ваш дашборд автоматично переналаштується.

<div align="center">

| До | Після |
|----|-------|
| ![Початковий дашборд](../images/dashboard-initial.png) | ![Після оновлення ШІ](../images/dashboard-after-ai.png) |
| Дашборд за замовчуванням | Після команди «Виключи транспорт» |

</div>

---

## Швидкий старт (30 секунд)

```bash
npx create-next-liqueur-app my-dashboard
cd my-dashboard
npm run dev
```

Відкрийте [http://localhost:3000](http://localhost:3000) і почніть спілкування.

---

## Зміст

- [Чому Liquid Protocol?](#чому-liquid-protocol)
- [Порівняння з Claude Artifacts / Gemini Canvas](#порівняння-з-claude-artifacts--gemini-canvas)
- [Варіанти використання](#варіанти-використання)
- [Як це працює](#як-це-працює)
- [Встановлення](#встановлення)
- [Налаштування для розробників](#налаштування-для-розробників)
- [Безпека](#безпека)
- [Специфікація схеми](#специфікація-схеми)
- [Дорожня карта](#дорожня-карта)

---

## Чому Liquid Protocol?

### Дилема кастомізації

Візьмемо додаток для обліку витрат. Який би додаток ви не використовували, у вас завжди будуть такі запити:

> - «Виключи транспортні витрати — компанія їх компенсує»
> - «Покупки по сімейній картці — окремо, їх мені відшкодовують»
> - «Позначи всі витрати під час подорожі як "подорож"»
> - «Я не люблю червоний — зроби синім і чорним»

**Поточні рішення:**

| Підхід | Приклад | Проблема |
|:-------|:--------|:---------|
| Зробити все самому | Notion, Таблиці | Кастомізація стає метою. Втрачається фокус |
| Додати більше налаштувань | Традиційні додатки | Екрани налаштувань ускладнюються. «Занадто багато свободи» |

### Рішення Liquid

**Просто скажіть, що вам потрібно.**

```
Користувач: «Виключи транспортні витрати»
    ↓
ШІ перегенерує структуру дашборда
    ↓
Фільтри, графіки та макети оновлюються автоматично
```

Більше не потрібно шукати потрібні налаштування.

---

## Порівняння з Claude Artifacts / Gemini Canvas

Ви використовували [Claude Artifacts](https://support.anthropic.com/en/articles/9487310-what-are-artifacts-and-how-do-i-use-them) або [Gemini Canvas](https://gemini.google/overview/canvas/)?

Це чудові функції, що дозволяють генерувати дашборди та код через розмову з ШІ.

**Liquid Protocol привносить цей досвід у ВАШ додаток.**

| Функція | Claude Artifacts | Gemini Canvas | **Liquid Protocol** |
|---------|:---------------:|:-------------:|:-------------------:|
| Генерація UI за допомогою ШІ | ✅ | ✅ | ✅ |
| Вбудовування у свій додаток | ❌ | ❌ | **✅** |
| Підключення своєї БД | ❌ | ❌ | **✅** |
| Row-Level Security | ❌ | ❌ | **✅** |
| Ризик виконання коду | ⚠️ Пісочниця | ⚠️ Пісочниця | **✅ Немає** |
| Відкритий вихідний код | ❌ | ❌ | **✅ MIT** |
| Вибір ШІ-провайдера | Лише Claude | Лише Gemini | **Будь-який** |

### Підсумок

```
Claude Artifacts / Gemini Canvas
  → Вражаюче. Але лише в ЇХ додатках.

Liquid Protocol
  → Той самий досвід у ВАШОМУ додатку.
    Ваша база даних, ваші користувачі.
```

---

## Варіанти використання

Ми демонструємо на прикладі бюджетного додатку, але ця технологія застосовна до будь-якого додатку:

| Додаток | Традиційна проблема | Рішення Liquid |
|:--------|:-------------------|:---------------|
| **Slack / Discord** | Складні налаштування сповіщень | «Сповіщай лише про важливі розмови» |
| **Біржові додатки** | Фіксовані дашборди | «Покажи лише техносектор круговою діаграмою» |
| **Twitter / SNS** | Непрозорий алгоритм | «Сховай політичний контент» |
| **Управління проєктами** | Пекло налаштувань Jira | «Покажи лише мої завдання на цьому тижні» |

**Ця технологія стане стандартом програмного забезпечення.**

---

## Як це працює

```
┌─────────────────────────────────────────────────────────────┐
│  Користувач: «Виключи транспорт, покажи стовпчасту»         │
└─────────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────┐
│  ШІ (Claude / GPT / Gemini / DeepSeek / GLM)                │
│                                                             │
│  ⚠️ Виводить ЛИШЕ JSON-схему. Не генерує JS/SQL             │
└─────────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────┐
│  @liqueur/protocol                                          │
│                                                             │
│  ✅ Валідація схеми: невідомі поля одразу відхиляються      │
│  ✅ Подвійна валідація TypeScript + Rust                    │
└─────────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────┐
│  @liqueur/db-adapter                                        │
│                                                             │
│  🔒 Row-Level Security                                      │
│  🔒 Захист від SQL-ін'єкцій                                 │
└─────────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────┐
│  @liqueur/react                                             │
│                                                             │
│  📊 Автоматичний рендеринг графіків, таблиць та макетів     │
└─────────────────────────────────────────────────────────────┘
```

---

## Встановлення

### За призначенням

```bash
# Лише визначення схеми
npm install @liqueur/protocol

# Додати React UI
npm install @liqueur/protocol @liqueur/react

# Повний стек (ШІ + БД)
npm install @liqueur/protocol @liqueur/react @liqueur/ai-provider @liqueur/db-adapter
```

### Пакети

| Пакет | Призначення |
|:------|:------------|
| [@liqueur/protocol](https://www.npmjs.com/package/@liqueur/protocol) | Типи схеми та валідація |
| [@liqueur/react](https://www.npmjs.com/package/@liqueur/react) | UI-компоненти |
| [@liqueur/ai-provider](https://www.npmjs.com/package/@liqueur/ai-provider) | Інтеграція ШІ-провайдерів |
| [@liqueur/db-adapter](https://www.npmjs.com/package/@liqueur/db-adapter) | Виконання Prisma-запитів |
| [@liqueur/artifact-store](https://www.npmjs.com/package/@liqueur/artifact-store) | Збереження схем |
| [create-next-liqueur-app](https://www.npmjs.com/package/create-next-liqueur-app) | CLI для створення проєкту |

---

## Налаштування для розробників

### Варіант 1: Швидкий старт з CLI

```bash
npx create-next-liqueur-app my-dashboard
cd my-dashboard

# Налаштуйте ШІ-провайдера
cp .env.example .env
# Відредагуйте .env, додавши API-ключ

npm run dev
```

### Варіант 2: Додавання до існуючого проєкту

```bash
npm install @liqueur/protocol @liqueur/react @liqueur/ai-provider
```

### Змінні оточення

При використанні `@liqueur/ai-provider` налаштуйте змінні оточення для обраного ШІ-провайдера:

```bash
# .env або .env.local

# Оберіть провайдера: anthropic, openai, gemini, deepseek, glm, local
AI_PROVIDER=anthropic

# ─── Anthropic (Claude) ───────────────────────────────
ANTHROPIC_API_KEY=sk-ant-your-key
ANTHROPIC_MODEL=claude-3-5-haiku-20241022

# ─── OpenAI (GPT) ─────────────────────────────────────
OPENAI_API_KEY=sk-your-key
OPENAI_MODEL=gpt-4o-mini

# ─── Google Gemini ────────────────────────────────────
GOOGLE_API_KEY=your-key
GEMINI_MODEL=gemini-1.5-flash

# ─── DeepSeek ─────────────────────────────────────────
DEEPSEEK_API_KEY=sk-your-key
DEEPSEEK_MODEL=deepseek-chat

# ─── GLM (Zhipu AI) ───────────────────────────────────
GLM_API_KEY=your-key
GLM_MODEL=glm-4

# ─── Local LLM (Ollama, LM Studio) ────────────────────
LOCAL_LLM_BASE_URL=http://localhost:1234/v1
LOCAL_LLM_MODEL=llama3
```

---

## Безпека

### Чому ми не даємо ШІ писати JavaScript?

| Підхід | Ризик |
|:-------|:------|
| ШІ генерує JS/SQL | XSS, SQL-ін'єкції, виконання довільного коду |
| **Liquid: лише JSON** | Немає виконуваного коду. Невідомі поля відхиляються |

### Три рівні захисту

1. **Обмеження виводу ШІ** — Лише JSON-схема. Без генерації коду
2. **Валідація схеми** — Невідомі поля негайно відхиляються (Fail Fast)
3. **Row-Level Security** — Користувачі можуть отримати доступ лише до своїх даних

---

## Дорожня карта

- [x] Фаза 1: Основний протокол та React-компоненти
- [x] Фаза 2: Інтеграція ШІ-провайдерів
- [x] Фаза 3: Приклад додатку (бюджет)
- [ ] Фаза 4: Додаткові компоненти (календар, карта тощо)
- [ ] Фаза 5: Спільне редагування в реальному часі
- [ ] Фаза 6: Система плагінів

---

## Ліцензія

[MIT](../../LICENSE)

---

<div align="center">

**Liquid Protocol**

Покладемо край епосі боротьби користувачів з налаштуваннями

[GitHub](https://github.com/clearclown/liqueur) · [npm](https://www.npmjs.com/package/@liqueur/protocol)

</div>
